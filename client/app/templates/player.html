

<!-- UNIT TEST 

button#start-back-5sec-btn
button#start-back-1sec-btn
button#start-back-frame-btn
button#start-play-btn
button#start-fwd-frame-btn
button#start-fwd-1sec-btn
button#start-fwd-5sec-btn

button#end-back-5sec-btn
button#end-back-1sec-btn
button#end-back-frame-btn
button#end-play-btn
button#end-fwd-frame-btn
button#end-fwd-1sec-btn
button#end-fwd-5sec-btn

-->
<md-content ng-controller="PlayerCtrl as player"  layout="column" layout-fill>
   <embeditor-youtube-embed 
        layout-fill 
        layout="row" 
        layout-align="{{player.sideNavIsOpen()}}" 
        class="player-background">
      
      <div id="player-wrapper">
        
        <!-- Loading progress bar -->
        <div class="loading-progress"> 
          <span layout="row" layout-fill>
            <md-progress-linear 
              class="md-warn" 
              md-mode="determinate" 
              ng-value="player.API.loadState">
            </md-progress-linear>
          </span>
        </div>
        <!-- Loading screen -->
        <div class="player-loading-screen" 
             ng-class="{'visible': player.API.initializing}">
            <md-progress-circular 
              layout="row"
              layout-fill
              layout-align="center center"
              id="player-loading-spinner" 
              class="md-warn" 
              md-mode="indeterminate">
            </md-progress-circular>
        </div>
        <!-- Timestamp & Transparent cover-->
        <div class="player-cover">
          <span layout="row" 
                layout-fill 
                layout-align="end end">

                <span class="timestamp">
                  <ng-md-icon 
                    icon="get_app" 
                    style="fill:white" 
                    ng-click="player.API.start(player.API.timestamp)"
                    class="timestamp-set-icon">
                    <md-tooltip md-direction="left"> Set startpoint </md-tooltip>
                  </ng-md-icon> 
                  {{player.API.timestamp.toString().toHHMMSSss()}} 
                </span>
          </span>
        </div>
        <!-- Player -->
        <div id="player"></div>

      </div>

   </embeditor-youtube-embed>

   
   <div class="player-background" 
        layout="column" 
        layout-fill
        layout-align="{{player.sideNavIsOpen()}}">

      <div class="controls-background controls-top" layout="row" layout-align="space between" style="width: 854px;"> 
          <span layout="column" flex="15">
            <span layout="row" layout-align="center">
              <md-button id="start-play-btn" aria-label="seek" 
                  ng-click="player.API.togglePlay()" 
                  class="md-fab md-accent play-button"
                  md-no-ink>
                <ng-md-icon icon="play_arrow" size="40" style="fill:white"
                    ng-show="player.API.state === 'paused'">
                </ng-md-icon>
                <ng-md-icon icon="pause" size="40" style="fill:white"
                    ng-show="player.API.state === 'playing'">
                </ng-md-icon>
              </md-button> 
            </span>
          </span> 
          <span layout="column" flex="75">
            <span layout="row" layout-align="center">
              <embeditor-rangefinder layout-fill></embeditor-rangefinder>
            </span>
          </span>
      </div>
      <div layout="row" class="controls-background" layout-align="space-around" style="width: 854px;">  
        <!-- STARTPOINTS -->         
        <span layout="row">  
            <!-- 5 sec rewind -->
            <span layout="column" layout-align="center center" >
              <md-button id="start-back-5sec-btn" aria-label="seek"
                  ng-click="player.API.start(player.API.startpoint.val - 5)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="fast_rewind" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-left"> 5s </span>
            </span>
             <!-- 1 sec rewind -->
            <span layout="column" layout-align="center center"> 
              <md-button id="start-back-1sec-btn" aria-label="seek"
                  ng-click="player.API.start(player.API.startpoint.val - 1)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="arrow_back" size="36"></ng-md-icon>
              </md-button> 
              <span class="control-btn-txt-left"> 1s </span>  
            </span>
             <!-- Frame rewind -->
            <span layout="column" layout-align="center center"> 
              <md-button id="start-back-frame-btn" aria-label="seek"
                  ng-click="player.API.start(player.API.startpoint.val - player.API.frameLength)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="chevron_left" size="36">
                </ng-md-icon>
              </md-button>
              <span class="control-btn-txt-ctr"> frame </span>
            </span>
            <!-- Startpoint display -->
            <span layout="column" layout-align="center center" > 
              <md-button aria-label="seek"
                  ng-click="player.API.replayStart()"
                  class="md-raised startpoint-btn"
                  md-no-ink>
                <span> {{player.API.startpoint.display}}
                
              </md-button>
              <span class="control-btn-txt-ctr startpoint-txt"> Startpoint </span>
              <md-tooltip md-delay="1000" md-direction="top"> Replay from startpoint </md-tooltip>
              
            </span>
            
            <!-- Frame forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="start-fwd-frame-btn" aria-label="seek"
                  ng-click="player.API.start(player.API.startpoint.val + player.API.frameLength)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="chevron_right" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-ctr"> frame </span>
            </span>
            <!-- 1 sec forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="start-fwd-1sec-btn" aria-label="seek"
                  ng-click="player.API.start(player.API.startpoint.val + 1)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="arrow_forward" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-right"> 1s </span>
            </span>
             <!-- 5 sec forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="start-fwd-5sec-btn" aria-label="seek"
                  class="md-raised"
                  md-no-ink
                  ng-click="player.API.start(player.API.startpoint.val + 5)">
                <ng-md-icon icon="fast_forward" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-right"> 5s </span>
            </span>
        </span>        
        
        <!-- ENDPOINTS -->
        <span layout="row">  
            <!-- 5 sec rewind -->
            <span layout="column" layout-align="center center" >
              <md-button id="end-back-5sec-btn" aria-label="seek"
                  ng-click="player.API.end(player.API.endpoint.val - 5)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="fast_rewind" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-left"> 5s </span>
            </span>
             <!-- 1 sec rewind -->
            <span layout="column" layout-align="center center"> 
              <md-button id="end-back-1sec-btn" aria-label="seek"
                  ng-click="player.API.end(player.API.endpoint.val - 1)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="arrow_back" size="36"></ng-md-icon>
              </md-button> 
              <span class="control-btn-txt-left"> 1s </span>  
            </span>
             <!-- Frame rewind -->
            <span layout="column" layout-align="center center"> 
              <md-button id="end-back-frame-btn" aria-label="seek"
                  ng-click="player.API.end(player.API.endpoint.val - player.API.frameLength)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="chevron_left" size="36">
                </ng-md-icon>
              </md-button>
              <span class="control-btn-txt-ctr"> frame </span>
            </span>

            <!--Endpoint display ng-disabled="true"-->
            <span layout="column" layout-align="center center"> 
              <md-button aria-label="seek"
                  ng-click="player.API.replayEnd()"
                  class="md-raised startpoint-btn"
                  md-no-ink>
                <span> {{player.API.endpoint.display}}
              </md-button>
              <span class="control-btn-txt-ctr startpoint-txt"> Endpoint </span>
              <md-tooltip md-delay="1000" md-direction="top"> Replay near endpoint </md-tooltip>
            </span>
  
            <!-- Frame forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="end-fwd-frame-btn" aria-label="seek"
                  ng-click="player.API.end(player.API.endpoint.val + player.API.frameLength)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="chevron_right" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-ctr"> frame </span>
            </span>
            <!-- 1 sec forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="end-fwd-1sec-btn" aria-label="seek"
                  ng-click="player.API.end(player.API.endpoint.val + 1)"
                  class="md-raised"
                  md-no-ink>
                <ng-md-icon icon="arrow_forward" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-right"> 1s </span>
            </span>
             <!-- 5 sec forward -->
            <span layout="column" layout-align="center center"> 
              <md-button id="end-fwd-5sec-btn" aria-label="seek"
                  class="md-raised"
                  md-no-ink
                  ng-click="player.API.end(player.API.endpoint.val + 5)">
                <ng-md-icon icon="fast_forward" size="36"></ng-md-icon>
              </md-button>
              <span class="control-btn-txt-right"> 5s </span>
            </span>
        </span>
      </div>
      <div layout="row" class="controls-background" style="width: 854px;"> 
        <span flex="5"></span>
        <md-input-container class="playback-input-container" flex="50">
          <label class="close-label"> Playback Rate </label> 
          <md-slider flex 
            class="md-warn playback-slider" 
            md-discrete 
            ng-model="player.API.currentRate" 
            step=".50" min=".50" max="1.5" 
            aria-label="playback">
          </md-slider>
        </md-input-container>
        <md-input-container flex="25" class="playback-input-container">
          <label class="close-label"> Loop </label>
          <md-switch flex 
            ng-model="player.API.loop" 
            class="md-warn playback-slider"
            aria-label="loop">
          </md-switch>  
        </md-input-container>    
      </div>
      <div layout="column" class="controls-background" layout-fill style="width: 854px"></div>
   </div>
</md-content>
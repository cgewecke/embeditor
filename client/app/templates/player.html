<div layout="column" layout-align="center center" layout-fill>
  
    <!-- Embed Code Directive -->
   <embeditor-youtube-embed 
      ng-controller="PlayerCtrl as player"
      layout="row"
      layout-fill
      layout-align="{{player.layout.alignWithSidenav('search', 'row')}}" 
      class="player-background player-block">
      
      <div id="player-wrapper" class="player-wrapper-styles"> 

        <!-- Timestamp & Setters --> 
        <div id="quickset-phone-row"
             layout="column" 
             flex="100" 
             ng-show="!player.API.initializing" 
             hide-md hide-gt-md>
          
          <div layout="row" class="quickset-top-row" flex layout-align="start start">
      
            <!-- Set Start Button -->
            <span layout="column" layout-align="center center">
              <div click="player.startFromTimestamp()" class="desktop-quickset-btn">
                <ng-md-icon 
                  id="timestamp-btn-start"
                  icon="get_app" 
                  ng-attr-style="fill:white" 
                  style="fill:white"
                  size="28"
                  class="desktop-quickset-icon">
                </ng-md-icon> 
              </div>
              <span class="arrow-text-wrapper">
                <span class="quickset-arrow-text"> Start </span>
              </span>
            </span>

            <!-- Timestamp -->
            <span layout="column" flex layout-align="center center" > 
              <div layout="row" layout-fill layout-align="space-between">

                <!-- Play --> 
                <div layout="column" flex="25" layout-align="center">
                  <div layout="row" layout-align="start center">
                    <div id="play-btn" 
                        click="player.API.togglePlay()"
                        class="mobile-play-button">
                      <ng-md-icon id="play-icon" icon="play_circle_outline" size="28" style="fill:white"
                          ng-show="player.API.state === player.API.PAUSED" class="mobile-play-icon">
                      </ng-md-icon>
                      <ng-md-icon id="pause-icon" icon="pause" size="28" style="fill:white"
                          ng-show="player.API.state === player.API.PLAYING" class="mobile-play-icon">
                      </ng-md-icon>
                    </div> 
                  </div>
                </div>

                 <!-- Timestamp -->
                <div layout="column" flex="50" class="desktop-timestamp-btn" md-no-ink>
                  <div class="timestamp-time-text" layout="row" layout-align="center" layout-fill > 
                      {{player.API.timestamp.toString().toHHMMSSss()}} 
                  </div>
                </div>

                <!-- Instructions --> 
                <div layout="column" flex="25">
                  <div class="phone-quickset-txt">
                    Tap arrows to quick set start/end 'now'
                  </div>
                </div>
              </div>
            </span>

            <!-- Set End Button -->
            <span layout="column" layout-align="center center">
              <div click="player.endFromTimestamp()" class="desktop-quickset-btn">
                <ng-md-icon 
                  id="timestamp-btn-end"
                  icon="get_app" 
                  ng-attr-style="fill:white" 
                  style="fill:white" 
                  size="28"    
                  class="desktop-quickset-icon">
                </ng-md-icon> 
              </div>
              <span class="arrow-text-wrapper">
                <span class="quickset-arrow-text"> End </span>
              </span>
            </span>
          </div>
        </div>
        
        <!-- Loading screen: Mobile NEEDS POINTER EVENTS NONE -->
        <div class="mobile-player-loading-screen" 
             id="player-loading-screen"
             ng-class="{'visible': player.API.initializing || player.API.mobileStart }"
             ng-show="player.API.mobile">

            <md-progress-circular 
              layout="row"
              layout-fill
              layout-align="center center"
              ng-show="player.API.initializing
                         && !player.API.mobileStart"
              id="player-loading-spinner" 
              class="md-warn" 
              md-mode="indeterminate">
            </md-progress-circular>

            <!-- Mobile start button & mobile landing page -->
            <div layout="column" 
                 layout-fill
                 layout-align="center center"
                 ng-show="player.API.mobileStart" >
                 <md-button class="start-button md-whiteframe-z1"  
                    id="player-init-button">
                    <div>
                      <ng-md-icon 
                        icon="play_circle_outline" 
                        style="fill:white"
                        size="56">
                      </ng-md-icon>
                    </div>
                    <div>TOUCH TO START </div>
                </md-button> 
            </div>
        </div>

        <!-- Loading screen: Desktop-->
        <div class="player-loading-screen" 
             id="player-loading-screen"
             ng-class="{'visible': player.API.initializing}"
             ng-show="!player.API.mobile">
            <md-progress-circular 
              layout="row"
              layout-fill
              layout-align="center center"
              id="player-loading-spinner" 
              class="md-warn" 
              md-mode="indeterminate">
            </md-progress-circular>
        </div>

        
        
        <!-- Timestamp & Transparent cover & Touch Shield -->
        <div class="player-cover">
          <span layout="row" 
                layout-fill
                layout-align="start end">

              <!-- Mobile Timebar/Player Touch Shield --> 
              <div layout="row" 
                   layout-fill
                   class="timebar-touch-shield"
                   ng-show="player.API.mobile">
              </div>
          </span>
        </div>
        <!-- Player -->
        <div layout="row" layout-align="center center" class="player-wrapper-styles">
          <div id="player"></div>
        </div>
        <!-- TimeBar -->
        <embeditor-player-time-bar class="loading-progress"></embeditor-player-time-bar> 
      </div>
   </embeditor-youtube-embed>


   <!-- Controls Block -->
   <embeditor-section-player-controls layout="row" layout-fill></embeditor-section-player-controls>
</div>
